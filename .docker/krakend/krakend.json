{
  "$schema": "https://www.krakend.io/schema/v3.json",
  "version": 3,
  "name": "Orange Wallet API Gateway",
  "port": 8080,
  "timeout": "30s",
  "cache_ttl": "5m",
  "output_encoding": "json",
  "extra_config": {
    "security/cors": {
      "allow_origins": [
        "http://localhost:3000",
        "https://orange-wallet.com"
      ],
      "allow_methods": [
        "GET",
        "POST",
        "PUT",
        "DELETE",
        "PATCH",
        "OPTIONS"
      ],
      "allow_headers": [
        "Authorization",
        "Content-Type",
        "X-Requested-With",
        "Accept",
        "Origin",
        "X-Refresh-Token"
      ],
      "expose_headers": [
        "Content-Length",
        "Content-Type",
        "X-Refresh-Token"
      ],
      "allow_credentials": true,
      "max_age": "12h"
    },
    "telemetry/logging": {
      "level": "INFO",
      "prefix": "[KRAKEND]",
      "syslog": false,
      "stdout": true
    },
    "plugin/req-resp-modifier": {
      "name": "redis-blacklist-checker"
    }
  },
  "endpoints": [
    {
      "endpoint": "/api/v1/auth/request",
      "method": "POST",
      "output_encoding": "json",
      "backend": [
        {
          "url_pattern": "/api/v1/auth/request",
          "encoding": "json",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "User-Agent",
        "X-Forwarded-For",
        "Content-Type"
      ]
    },
    {
      "endpoint": "/api/v1/auth/verify",
      "method": "POST",
      "output_encoding": "json",
      "backend": [
        {
          "url_pattern": "/api/v1/auth/verify",
          "encoding": "json",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "User-Agent",
        "X-Forwarded-For",
        "Content-Type"
      ]
    },
    {
      "endpoint": "/api/v1/auth/refresh",
      "method": "POST",
      "output_encoding": "json",
      "backend": [
        {
          "url_pattern": "/api/v1/auth/refresh",
          "encoding": "json",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Content-Type",
        "X-Refresh-Token",
        "User-Agent",
        "X-Forwarded-For"
      ]
    },
    {
      "endpoint": "/api/v1/auth/resend-otp",
      "method": "POST",
      "output_encoding": "no-op",
      "backend": [
        {
          "url_pattern": "/api/v1/auth/resend-otp",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ]
    },
    {
      "endpoint": "/api/v1/auth/pin",
      "method": "POST",
      "output_encoding": "no-op",
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "scope",
              "x-krakend-scope"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/auth/pin",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ]
    },
    {
      "endpoint": "/api/v1/pin/reset/request",
      "method": "POST",
      "output_encoding": "no-op",
      "backend": [
        {
          "url_pattern": "/api/v1/pin/reset/request",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ]
    },
    {
      "endpoint": "/api/v1/pin/reset/verify",
      "method": "POST",
      "output_encoding": "no-op",
      "backend": [
        {
          "url_pattern": "/api/v1/pin/reset/verify",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ]
    },
    {
      "endpoint": "/api/v1/pin/reset/confirm",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "scope",
              "x-krakend-scope"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/pin/reset/confirm",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/pin/change",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "scope",
              "x-krakend-scope"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/pin/change",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/pin/verify",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "scope",
              "x-krakend-scope"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/pin/verify",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/auth/logout",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "scope",
              "x-krakend-scope"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/auth/logout",
          "encoding": "no-op",
          "method": "POST",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/oauth2/jwks",
      "method": "GET",
      "output_encoding": "json",
      "backend": [
        {
          "url_pattern": "/oauth2/jwks",
          "encoding": "json",
          "method": "GET",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ]
    },
    {
      "endpoint": "/api/v1/auth/{path}",
      "method": "GET",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "exp",
              "x-krakend-exp"
            ],
            [
              "roles",
              "x-krakend-roles"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/auth/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/auth/{path}",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "exp",
              "x-krakend-exp"
            ],
            [
              "roles",
              "x-krakend-roles"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/auth/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/auth/{path}",
      "method": "PUT",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "exp",
              "x-krakend-exp"
            ],
            [
              "roles",
              "x-krakend-roles"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/auth/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/auth/{path}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "exp",
              "x-krakend-exp"
            ],
            [
              "roles",
              "x-krakend-roles"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/auth/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/pin/{path}",
      "method": "GET",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/pin/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/pin/{path}",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/pin/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/pin/{path}",
      "method": "PUT",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/pin/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/pin/{path}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/pin/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/sessions",
      "method": "GET",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "scope",
              "x-krakend-scope"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/sessions",
          "encoding": "no-op",
          "method": "GET",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/sessions/{sessionId}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ],
            [
              "scope",
              "x-krakend-scope"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/sessions/{sessionId}",
          "encoding": "no-op",
          "method": "DELETE",
          "host": [
            "http://host.docker.internal:8081"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/user/{path}",
      "method": "GET",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/user/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/user/{path}",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/user/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/user/{path}",
      "method": "PUT",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/user/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/user/{path}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/user/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/users/{path}",
      "method": "GET",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/users/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/users/{path}",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/users/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/users/{path}",
      "method": "PUT",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/users/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/users/{path}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/users/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8082"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/transaction/{path}",
      "method": "GET",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/transaction/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8083"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/transaction/{path}",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/transaction/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8083"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/transaction/{path}",
      "method": "PUT",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/transaction/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8083"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/transaction/{path}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/transaction/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8083"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/topup/{path}",
      "method": "GET",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/topup/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8084"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/topup/{path}",
      "method": "POST",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/topup/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8084"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/topup/{path}",
      "method": "PUT",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/topup/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8084"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    },
    {
      "endpoint": "/api/v1/topup/{path}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://host.docker.internal:8081/oauth2/jwks",
          "cache": true,
          "cache_duration": 900,
          "disable_jwk_security": true,
          "propagate_claims": [
            [
              "jti",
              "x-krakend-jti"
            ],
            [
              "sub",
              "x-krakend-sub"
            ]
          ]
        }
      },
      "backend": [
        {
          "url_pattern": "/api/v1/topup/{path}",
          "encoding": "no-op",
          "host": [
            "http://host.docker.internal:8084"
          ]
        }
      ],
      "input_headers": [
        "Authorization",
        "Content-Type",
        "X-Refresh-Token"
      ]
    }
  ]
}